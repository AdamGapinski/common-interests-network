env:
  global:
  - CLIENT_ADDRESS_HIDDEN=http://localhost:3000
  - CLIENT_ID_HIDDEN=test_id
  - CLIENT_SECRET_HIDDEN=test_secret
language: java
jdk: oraclejdk8
install: true
script:
- gradle assemble
- gradle test
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
deploy:
  provider: heroku
  api_key:
    secure: uVRygqTR/wSVnLFbg1k1hkna4P41OUKYZ18Rx/HxgmqeLaV6ukWYiapuseOmY69ZSaQ3AKkaX1fkNRPIr4ylkkp7drnOqCSKteuimpSyYNJT5hVHwLtLuPbc7uLE5Hbcx1ynz5qEcmQAqeH+BW9uahAIGABzdUJh+od0Whv3ptfJ/9oS5RLtkPnIDPOsJW8DFDPMrR0OZg51yLDCJ9DE/5+3t2f2PvveTQxgZi+GY4Z0PE/mFXuUdjtfdYk3c69E8p8spcG+/u2zNd08b9mbUJSYfG/9JibBz/qorE11pQ1n78Tda8UynbJbUeBTM1AUxCoxOnLT3do/Jd1k3xCPiSlvuF12iVgvijZ66XA9rdKoZxg5fz3z43HwoBv2jWJv+ovqMLteQkIwwaLBnJd3vP4fzZkd0rWy9hp6pZnKLQe/IUau51gnbo9EOaxT0N+Z7nXkBkyWvcKstaVCt9l+SJI0EyikJyTSuRqaMolXdAxjXM3+h++pEB8NWMCuuOpfirS1Us9/lRUQn7v3Fd+ILGOw8nQHDPs9khw761noIT6xbF8U5qg+saggJkUrmBfugg1PC2kW48mABJrE6agAcFnYWJWx6r34CeHhBODKfVZwMpqhuitrZyp002SgcqCUxe2j5OsHoW6Je2QGueXh49AHSS3uC/s02GQqMDWrrC0=
  on:
    all_branches: true
