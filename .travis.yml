env:
  global:
  - CLIENT_ADDRESS_HIDDEN=http://localhost:3000
  - CLIENT_ID_HIDDEN=test_id
  - CLIENT_SECRET_HIDDEN=test_secret
language: java
jdk: oraclejdk8
install: true
script:
- gradle assemble
- gradle test
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
deploy:
  provider: heroku
  api_key:
    secure: RcQxa3M/e9l1/mhg/Cch3GbUkO7cY/zwXQm3Od2LUefMye1vvmDZxC/zqSgkHCw+cljAMSIe4zbQOjzc26mOevzTfDoLMqQ7g/946eurpwFJ11jQmBjRUFYt8gOkALxNIJFNO6P/GZDANtc5lDfthgcdOl1mFbMBqha30PPOV8KqECgYBGFJ22tP7GKWPwR9gFdZKVwhuexPuvwwMiOV/6VkA1MM8kTi4ZCtptyRac2yDZMit1G3+sSDi5HC513oaecLqh66TWnXyc641XkSF0TIHR2msqDQNa3RT6hb35wABJxe2g0N8SXu/d15YhE8eOeA+6ghU3py9U5qS73I89m70jmc1+7xREXpvGsHCoGwub6p/DkR0gQF4SwqcEmWYxYtPrfU1VU1nEGW1BRZP9ngf5ROtA6UqCSc+wHOiYhmIM/mqixVsPap62aHmj2TMckYQvNixpZVpmsRQuBRbrE7pf2EGdAClA+rVrK/MAGMmMMG+nrZuJe2T1NZknpgCXFYF1ZHEX54w6CQvL+TKDHeomAyIqIJLzC8vuW7w1LW9Ambr+Wt+6a7NeJpJbZd6KdWuI3TPaeWANxjXWf1bEuMg7AZwcau9R9LuTZpoAJr0GZHPv8zX8OmA/uUJlSq5kNDmH3i18ku+Vtrw1iMBceS+pVMXYYMsgkRo1qH/o0=
  app: common-interests-network-api
  on:
    repo: AdamGapinski/common-interests-network
